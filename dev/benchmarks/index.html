<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Benchmarks · HydroMech.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="HydroMech.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">HydroMech.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li></ul></li><li><span class="tocitem">Solvers</span><ul><li><a class="tocitem" href="../2D-hydro-mechanical-solver/">2D-Hydro-mechanical solver</a></li><li><a class="tocitem" href="../3D-hydro-mechanical-solver/">3D-Hydro-mechanical solver</a></li></ul></li><li><span class="tocitem">Concepts</span><ul><li><a class="tocitem" href="../pseudo-transient-method/">Pseudo Transient Method</a></li><li><a class="tocitem" href="../iteration-parameters/">Iteration Parameters</a></li><li><a class="tocitem" href="../computational-earthquake-physics/">Computational Earthquake Physics</a></li></ul></li><li><a class="tocitem" href="../performance/">Performance</a></li><li class="is-active"><a class="tocitem" href>Benchmarks</a><ul class="internal"><li><a class="tocitem" href="#Porosity-wave-benchmark"><span>Porosity wave benchmark</span></a></li><li><a class="tocitem" href="#Fluid-injection-2D-benchmark"><span>Fluid injection 2D benchmark</span></a></li></ul></li><li><a class="tocitem" href="../visualization/">Visualization</a></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../roadmap/">Roadmap</a></li><li><a class="tocitem" href="../timeline/">Time line</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../hydromech/">HydroMech.jl</a></li><li><input class="collapse-toggle" id="menuitem-9-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2"><span class="docs-label">PTsolvers/JustRelax.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../justrelax-overview/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-9-2-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2-2"><span class="docs-label">Source code</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../justrelax-modules/">Modules</a></li><li><a class="tocitem" href="../justrelax-types/">Types</a></li></ul></li><li><a class="tocitem" href="../justrelax-Miniapps/">Miniapps</a></li><li><a class="tocitem" href="../justrelax-Testing/">Testing</a></li></ul></li><li><a class="tocitem" href="../parallelstencil/">ParallelStencil</a></li><li><a class="tocitem" href="../juliageodynamics/">JuliaGeodynamics</a></li></ul></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Benchmarks</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Benchmarks</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/youwuyou/HydroMech.jl/blob/main/docs/src/benchmarks.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Benchmarks"><a class="docs-heading-anchor" href="#Benchmarks">Benchmarks</a><a id="Benchmarks-1"></a><a class="docs-heading-anchor-permalink" href="#Benchmarks" title="Permalink"></a></h1><p>Followingly are some selected benchmark runs performed using the hydro-mechanical solver.</p><h2 id="Porosity-wave-benchmark"><a class="docs-heading-anchor" href="#Porosity-wave-benchmark">Porosity wave benchmark</a><a id="Porosity-wave-benchmark-1"></a><a class="docs-heading-anchor-permalink" href="#Porosity-wave-benchmark" title="Permalink"></a></h2><p>Using the decompaction weakening approach as in <a href="https://academic.oup.com/gji/article/218/3/1591/5497299?login=true">Raess et al.</a>. We set up the benchmark for the porosity wave regime as limit of two-phase flow. The goal of this benchmark is to verify the reproducibility of the methodology as described <a href="../methodology/">here</a></p><h3 id="Influence-of-spatial-resolution"><a class="docs-heading-anchor" href="#Influence-of-spatial-resolution">Influence of spatial resolution</a><a id="Influence-of-spatial-resolution-1"></a><a class="docs-heading-anchor-permalink" href="#Influence-of-spatial-resolution" title="Permalink"></a></h3><p>We keep all the parameters identical as in Räss et al. 2019 and perform 5 experiments with increasing grid resolution.</p><p>It is important to point out that the spatial resolution plays a very important role in our simulation. We reported here a plot consisting of the final porosity distribution <span>$\log_{10}(\frac{\phi}{\phi_0})$</span> of the 5 experiments.</p><p><img src="../assets/images/final_states.png" alt="final states of five experiments"/></p><p>We notice the similarities between the last two experiments of the highest resolution and observed the evolved two-channel morphology during time evolution. However, the last experiment also deviates from previous results of lower resolutions that it does not show very significant evolution of secondary channels and it shows the unique &quot;merging&quot; effect of the two-channel flow into a single channel when reaching 85% of the domain height.</p><p><img src="../assets/images/sensitivity_analysis.png" alt="sensitivity analysis of spatial resolution"/></p><p>We identify the experiment 5 as an outlier in the figure above, where we further investigated the evolution of the normalized maximal porosity <span>$\frac{\phi_{\text{max}}}{\phi_0}$</span> and the vertical distance of the point posessing the maximal value of porosity from initial pertubation <span>$\Delta h (\Phi_{\text{max}})$</span>. </p><p>It is yet unclear whether this is a sign showing that the method converges or this blow-up phenomenon is brought by the accumulation of the numerical errors. The latter assumption is highly possible. With a total simulation time of t = 0.02, we performed 3296 iterations with a time step size of magnitude <span>$10^{-6}$</span>, we could probably have reached machine precision3 by performing any arithmetic operations that involve it, which then can introduce roundoff errors,which are highly undesirable. Further investigations are needed by performing roundoff analysis and running simulations with even higher resolutions.</p><p>In the following section we report the evolution of porosity waves in the performed five experiments.</p><hr/><ul><li>Experiment 1: <code>nx = 63</code>, <code>ny = 127</code></li></ul><pre><code class="language-bash hljs"># last 10 iterations
it = 905, time = 2.181e-01 sec (@ T_eff = 5.60 GB/s) 
it = 906, time = 2.182e-01 sec (@ T_eff = 5.60 GB/s) 
it = 907, time = 2.212e-01 sec (@ T_eff = 5.50 GB/s) 
it = 908, time = 2.200e-01 sec (@ T_eff = 5.50 GB/s) 
it = 909, time = 2.192e-01 sec (@ T_eff = 5.60 GB/s) 
it = 910, time = 2.187e-01 sec (@ T_eff = 5.60 GB/s) 
it = 911, time = 2.170e-01 sec (@ T_eff = 5.60 GB/s) 
it = 912, time = 2.197e-01 sec (@ T_eff = 5.50 GB/s) 
it = 913, time = 2.193e-01 sec (@ T_eff = 5.60 GB/s) 
it = 914, time = 2.192e-01 sec (@ T_eff = 5.60 GB/s) 
it = 915, time = 1.819e-01 sec (@ T_eff = 5.60 GB/s)</code></pre><p><img src="../assets/images/PW2D_exp01.gif" alt="experiment01"/></p><ul><li>Experiment 2: <code>nx = 127</code>, <code>ny = 255</code></li></ul><pre><code class="language-bash hljs"># last 10 iterations
it = 1526, time = 5.757e-01 sec (@ T_eff = 22.00 GB/s) 
it = 1527, time = 6.306e-01 sec (@ T_eff = 20.00 GB/s) 
it = 1528, time = 5.753e-01 sec (@ T_eff = 22.00 GB/s) 
it = 1529, time = 5.386e-01 sec (@ T_eff = 21.00 GB/s) 
it = 1530, time = 5.775e-01 sec (@ T_eff = 20.00 GB/s) 
it = 1531, time = 5.663e-01 sec (@ T_eff = 20.00 GB/s) 
it = 1532, time = 5.366e-01 sec (@ T_eff = 22.00 GB/s) 
it = 1533, time = 5.366e-01 sec (@ T_eff = 22.00 GB/s) 
it = 1534, time = 5.767e-01 sec (@ T_eff = 20.00 GB/s) 
it = 1535, time = 5.330e-01 sec (@ T_eff = 22.00 GB/s) 
it = 1536, time = 5.332e-01 sec (@ T_eff = 22.00 GB/s) </code></pre><p><img src="../assets/images/PW2D_exp02.gif" alt="experiment02"/></p><ul><li>Experiment 3: <code>nx = 511</code>, <code>ny = 1023</code></li></ul><pre><code class="language-bash hljs"># last 10 iterations
it = 2055, time = 2.922e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2056, time = 2.919e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2057, time = 2.917e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2058, time = 2.898e+00 sec (@ T_eff = 120.00 GB/s) 
it = 2059, time = 2.914e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2060, time = 2.915e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2061, time = 2.915e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2062, time = 2.919e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2063, time = 2.919e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2064, time = 2.918e+00 sec (@ T_eff = 110.00 GB/s) 
it = 2065, time = 2.896e+00 sec (@ T_eff = 120.00 GB/s) </code></pre><p><img src="../assets/images/PW2D_exp03.gif" alt="experiment03"/></p><ul><li>Experiment 4: <code>nx = 1023</code>, <code>ny = 2047</code></li></ul><pre><code class="language-bash hljs"># last 10 iterations
it = 1804, time = 9.881e+00 sec (@ T_eff = 140.00 GB/s) 
it = 1805, time = 9.914e+00 sec (@ T_eff = 130.00 GB/s) 
it = 1806, time = 9.940e+00 sec (@ T_eff = 130.00 GB/s) 
it = 1807, time = 9.911e+00 sec (@ T_eff = 130.00 GB/s) 
it = 1808, time = 9.925e+00 sec (@ T_eff = 130.00 GB/s) 
it = 1809, time = 9.913e+00 sec (@ T_eff = 130.00 GB/s) 
it = 1810, time = 9.926e+00 sec (@ T_eff = 130.00 GB/s) 
it = 1811, time = 9.924e+00 sec (@ T_eff = 130.00 GB/s) 
it = 1812, time = 9.888e+00 sec (@ T_eff = 140.00 GB/s) 
it = 1813, time = 9.934e+00 sec (@ T_eff = 130.00 GB/s) 
it = 1814, time = 9.909e+00 sec (@ T_eff = 130.00 GB/s) </code></pre><p><img src="../assets/images/PW2D_exp04.gif" alt="experiment04"/></p><ul><li>Experiment 5: <code>nx = 2047</code>, <code>ny = 4095</code></li></ul><pre><code class="language-bash hljs"># last 10 iterations
it = 3286, time = 3.414e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3287, time = 3.411e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3288, time = 3.415e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3289, time = 3.412e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3290, time = 3.418e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3291, time = 3.413e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3292, time = 3.412e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3293, time = 3.408e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3294, time = 3.412e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3295, time = 3.409e+01 sec (@ T_eff = 160.00 GB/s) 
it = 3296, time = 3.412e+01 sec (@ T_eff = 160.00 GB/s) </code></pre><p>We also report the evolution of the porosity wave at different time steps in the following plot, reporting the normalized porosity <span>$\log_{10}(\frac{\phi}{\phi_0})$</span> along with the colorbar used for the heatmap plotting. As we can see in the subplots, the evolution of the secondary channels is much less significant and are only visible in latter evolution phases as in (e), (f) subplots. The two-channel morphology also converges to a single-channel morphology at the end of the simulation unlike in previous four experiments.</p><p><img src="../assets/images/PW_evolution.png" alt="evolution of waves in highest resolution run"/></p><hr/><h3 id="Influence-of-compressibility-in-mass-conservation-equations"><a class="docs-heading-anchor" href="#Influence-of-compressibility-in-mass-conservation-equations">Influence of compressibility in mass conservation equations</a><a id="Influence-of-compressibility-in-mass-conservation-equations-1"></a><a class="docs-heading-anchor-permalink" href="#Influence-of-compressibility-in-mass-conservation-equations" title="Permalink"></a></h3><h4 id="Incompressible"><a class="docs-heading-anchor" href="#Incompressible">Incompressible</a><a id="Incompressible-1"></a><a class="docs-heading-anchor-permalink" href="#Incompressible" title="Permalink"></a></h4><p><em>Resulting animation of the code provided in the <a href="https://github.com/omlins/ParallelStencil.jl/blob/main/miniapps/HydroMech2D.jl"><code>HydroMech2D.jl</code></a>, which is the starting point of our implementation of the solver.</em></p><p><code>R=500</code>, <code>t=0.02</code></p><p><img src="../assets/images/incompressible_R500.gif" alt="2D wave"/></p><p><code>R=1.0</code>, <code>t=0.2</code></p><p><img src="../assets/images/incompressible_R1.gif" alt="2D wave"/></p><h4 id="Compressible"><a class="docs-heading-anchor" href="#Compressible">Compressible</a><a id="Compressible-1"></a><a class="docs-heading-anchor-permalink" href="#Compressible" title="Permalink"></a></h4><p><em>Followingly are the (truncated) results using the same model setup but with additional physical variables added for the compressible terms of the mass conservation equation</em></p><p><code>R=1000</code></p><p><img src="../assets/images/compressible_R1000.gif" alt="2D wave"/></p><p><code>R=500</code></p><p><img src="../assets/images/compressible_R500.gif" alt="2D wave"/></p><p><code>R=1.0</code>, <code>t=0.03</code></p><p><img src="../assets/images/compressible_R1.gif" alt="2D wave"/></p><pre><code class="language-julia hljs"># dimensionalized parameters used in (Dal Zilio et al. 2022)
µ = 25G*Pa            # shear modulus
Ks = 50G*Pa           # bulk modulus
βs = 2.5 10^-11 1/Pa  # solid compressibility
βf = 4.0 10^-10 1/Pa  # fluid compressibility</code></pre><h2 id="Fluid-injection-2D-benchmark"><a class="docs-heading-anchor" href="#Fluid-injection-2D-benchmark">Fluid injection 2D benchmark</a><a id="Fluid-injection-2D-benchmark-1"></a><a class="docs-heading-anchor-permalink" href="#Fluid-injection-2D-benchmark" title="Permalink"></a></h2><p>Reproduce fluid injection 2D benchmark in <a href="https://www.sciencedirect.com/science/article/pii/S0040195122003109">Luca et al. 2022</a></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../performance/">« Performance</a><a class="docs-footer-nextpage" href="../visualization/">Visualization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Wednesday 18 January 2023 17:54">Wednesday 18 January 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
