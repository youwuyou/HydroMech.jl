<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ParallelStencil · HydroMech.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="HydroMech.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">HydroMech.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../methodology/">Methodology</a></li></ul></li><li><span class="tocitem">Solvers</span><ul><li><a class="tocitem" href="../2D-hydro-mechanical-solver/">2D-Hydro-mechanical solver</a></li><li><a class="tocitem" href="../3D-hydro-mechanical-solver/">3D-Hydro-mechanical solver</a></li></ul></li><li><span class="tocitem">Concepts</span><ul><li><a class="tocitem" href="../pseudo-transient-method/">Pseudo Transient Method</a></li><li><a class="tocitem" href="../iteration-parameters/">Iteration Parameters</a></li><li><a class="tocitem" href="../stiffness-of-pdes/">Stiffness of PDEs</a></li><li><a class="tocitem" href="../eigenvalue-problem/">Eigenvalue Problem</a></li><li><a class="tocitem" href="../dispersion-analysis/">Dispersion Analysis</a></li><li><a class="tocitem" href="../von-neumann-stability-analysis/">Von Neumann Stability Analysis</a></li><li><a class="tocitem" href="../computational-earthquake-physics/">Computational Earthquake Physics</a></li></ul></li><li><a class="tocitem" href="../distributed-computing/">Distributed Computing</a></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li><li><a class="tocitem" href="../visualization/">Visualization</a></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../roadmap/">Roadmap</a></li><li><a class="tocitem" href="../timeline/">Time line</a></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../hydromech/">HydroMech.jl</a></li><li><input class="collapse-toggle" id="menuitem-9-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2"><span class="docs-label">PTsolvers/JustRelax.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../justrelax-overview/">Overview</a></li><li><input class="collapse-toggle" id="menuitem-9-2-2" type="checkbox"/><label class="tocitem" for="menuitem-9-2-2"><span class="docs-label">Source code</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../justrelax-modules/">Modules</a></li><li><a class="tocitem" href="../justrelax-types/">Types</a></li></ul></li><li><a class="tocitem" href="../justrelax-Miniapps/">Miniapps</a></li><li><a class="tocitem" href="../justrelax-Testing/">Testing</a></li></ul></li><li class="is-active"><a class="tocitem" href>ParallelStencil</a></li><li><a class="tocitem" href="../juliageodynamics/">JuliaGeodynamics</a></li></ul></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>ParallelStencil</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ParallelStencil</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/youwuyou/HydroMech.jl/blob/main/docs/src/parallelstencil.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="[ParallelStencil.jl](https://github.com/omlins/ParallelStencil.jl)-API"><a class="docs-heading-anchor" href="#[ParallelStencil.jl](https://github.com/omlins/ParallelStencil.jl)-API"><a href="https://github.com/omlins/ParallelStencil.jl">ParallelStencil.jl</a> API</a><a id="[ParallelStencil.jl](https://github.com/omlins/ParallelStencil.jl)-API-1"></a><a class="docs-heading-anchor-permalink" href="#[ParallelStencil.jl](https://github.com/omlins/ParallelStencil.jl)-API" title="Permalink"></a></h1><p>The following API is created using the docstrings avaliable within the <code>ParallelStencil.jl</code> package, and is included for convinience here for look-up purpose. Please refer to the official repository and ask the creator of the packages if anything is unclear.</p><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.ParallelStencil" href="#ParallelStencil.ParallelStencil"><code>ParallelStencil.ParallelStencil</code></a> — <span class="docstring-category">Module</span></header><section><div><p>Module ParallelStencil</p><p>Enables domain scientists to write high-level code for parallel high-performance stencil computations that can be deployed on both GPUs and CPUs.</p><p><strong>General overview and examples</strong></p><p>https://github.com/omlins/ParallelStencil.jl</p><p><strong>Primary macros</strong></p><ul><li><a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a></li><li><a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a></li><li><a href="#ParallelStencil.@hide_communication-Tuple"><code>@hide_communication</code></a></li><li><a href="#ParallelStencil.@zeros-Tuple"><code>@zeros</code></a></li><li><a href="#ParallelStencil.@ones-Tuple"><code>@ones</code></a></li><li><a href="#ParallelStencil.@rand-Tuple"><code>@rand</code></a></li></ul><div class="admonition is-info"><header class="admonition-header">Advanced</header><div class="admonition-body"><ul><li><a href="#ParallelStencil.@parallel_indices-Tuple"><code>@parallel_indices</code></a></li><li><a href="#ParallelStencil.@parallel_async-Tuple"><code>@parallel_async</code></a></li><li><a href="#ParallelStencil.@synchronize-Tuple"><code>@synchronize</code></a></li></ul></div></div><p><strong>Macros available for <a href="#ParallelStencil.@parallel_indices-Tuple"><code>@parallel_indices</code></a> kernels</strong></p><ul><li><a href="#ParallelStencil.@ps_show-Tuple"><code>@ps_show</code></a></li><li><a href="#ParallelStencil.@ps_println-Tuple"><code>@ps_println</code></a></li></ul><div class="admonition is-info"><header class="admonition-header">Advanced</header><div class="admonition-body"><ul><li><a href="#ParallelStencil.@gridDim-Tuple"><code>@gridDim</code></a></li><li><a href="#ParallelStencil.@blockIdx-Tuple"><code>@blockIdx</code></a></li><li><a href="#ParallelStencil.@blockDim-Tuple"><code>@blockDim</code></a></li><li><a href="#ParallelStencil.@threadIdx-Tuple"><code>@threadIdx</code></a></li><li><a href="#ParallelStencil.@sync_threads-Tuple"><code>@sync_threads</code></a></li><li><a href="#ParallelStencil.@sharedMem-Tuple"><code>@sharedMem</code></a></li></ul></div></div><p><strong>Submodules</strong></p><ul><li><a href="@ref"><code>ParallelStencil.FiniteDifferences1D</code></a></li><li><a href="@ref"><code>ParallelStencil.FiniteDifferences2D</code></a></li><li><a href="@ref"><code>ParallelStencil.FiniteDifferences3D</code></a></li></ul><p><strong>Modules generated in caller</strong></p><ul><li><a href="@ref"><code>Data</code></a></li></ul><p>To see a description of a macro or module type <code>?&lt;macroname&gt;</code> (including the <code>@</code>) or <code>?&lt;modulename&gt;</code>, respectively.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@blockDim-Tuple" href="#ParallelStencil.@blockDim-Tuple"><code>ParallelStencil.@blockDim</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@blockDim()</code></pre><p>Return the block size (or &quot;dimension&quot;) in x, y and z dimension. The block size in a specific dimension is commonly retrieved directly as in this example in x dimension: <code>@blockDim().x</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@blockIdx-Tuple" href="#ParallelStencil.@blockIdx-Tuple"><code>ParallelStencil.@blockIdx</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@blockIdx()</code></pre><p>Return the block ID in x, y and z dimension within the grid. The block ID in a specific dimension is commonly retrieved directly as in this example in x dimension: <code>@blockIdx().x</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@gridDim-Tuple" href="#ParallelStencil.@gridDim-Tuple"><code>ParallelStencil.@gridDim</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@gridDim()</code></pre><p>Return the grid size (or &quot;dimension&quot;) in x, y and z dimension. The grid size in a specific dimension is commonly retrieved directly as in this example in x dimension: <code>@gridDim().x</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@hide_communication-Tuple" href="#ParallelStencil.@hide_communication-Tuple"><code>ParallelStencil.@hide_communication</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@hide_communication boundary_width block</code></pre><div class="admonition is-info"><header class="admonition-header">Advanced</header><div class="admonition-body"><pre><code class="nohighlight hljs">@hide_communication ranges_outer ranges_inner block</code></pre></div></div><p>Hide the communication behind the computation within the code <code>block</code>.</p><p><strong>Arguments</strong></p><ul><li><code>boundary_width::Tuple{Integer,Integer,Integer} | Tuple{Integer,Integer} | Tuple{Integer}</code>: width of the boundaries in each dimension. The boundaries must include (at least) all the data that is accessed in the communcation performed.</li><li><code>block</code>: code block wich starts with exactly one <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a> call to perform computations, followed by code to set boundary conditions and to perform communication (as e.g. <code>update_halo!</code> from the package <code>ImplicitGlobalGrid</code>). The <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a> call to perform computations cannot contain any positional arguments (ranges, nblocks or nthreads) nor the stream keyword argument (stream=...). The code to set boundary conditions and to perform communication must only access the elements in the boundary ranges of the fields modified in the <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a> call; all elements can be acccessed from other fields. Moreover, this code must not include statements in array broadcasting notation, because they are always run on the default CUDA stream (for CUDA.jl &lt; v2.0), which makes CUDA stream overlapping impossible. Instead, boundary region elements can, e.g., be accessed with <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a> calls passing a ranges argument that ensures that no threads mapping to elements outside of <code>ranges_outer</code> are launched. Note that these <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a> <code>ranges</code> calls cannot contain any other positional arguments (nblocks or nthreads) nor the stream keyword argument (stream=...).</li></ul><div class="admonition is-info"><header class="admonition-header">Advanced</header><div class="admonition-body"><ul><li><code>ranges_outer::</code>Tuple with one or multiple <code>ranges</code> as required by the corresponding argument of <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a>: the <code>ranges</code> must together span (at least) all the data that is accessed in the communcation and boundary conditions performed.</li><li><code>ranges_inner::</code>Tuple with one or multiple <code>ranges</code> as required by the corresponding argument of <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a>: the <code>ranges</code> must together span the data that is not included by <code>ranges_outer</code>.</li></ul></div></div><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">@hide_communication (16, 2, 2) begin
    @parallel diffusion3D_step!(Te2, Te, Ci, lam, dt, dx, dy, dz);
    update_halo!(Te2);
end

@hide_communication (16, 2) begin
    @parallel diffusion2D_step!(Te2, Te, Ci, lam, dt, dx, dy);
    update_halo!(Te2);
end

@hide_communication ranges_outer ranges_inner begin
    @parallel diffusion3D_step!(Te2, Te, Ci, lam, dt, dx, dy, dz);
    update_halo!(Te2);
end

@parallel_indices (iy,iz) function bc_x(A)
    A[  1, iy,  iz] = A[    2,   iy,   iz]
    A[end, iy,  iz] = A[end-1,   iy,   iz]
    return
end
@parallel_indices (ix,iz) function bc_y(A)
    A[ ix,  1,  iz] = A[   ix,    2,   iz]
    A[ ix,end,  iz] = A[   ix,end-1,   iz]
    return
end
@parallel_indices (ix,iy) function bc_z(A)
    A[ ix,  iy,  1] = A[   ix,   iy,    2]
    A[ ix,  iy,end] = A[   ix,   iy,end-1]
    return
end
@hide_communication (16, 2, 2) begin
    @parallel diffusion3D_step!(Te2, Te, Ci, lam, dt, dx, dy, dz);
    @parallel (1:size(Te,2), 1:size(Te,3)) bc_x(Te);
    @parallel (1:size(Te,1), 1:size(Te,3)) bc_y(Te);
    @parallel (1:size(Te,1), 1:size(Te,2)) bc_z(Te);
    update_halo!(Te2);
end</code></pre><div class="admonition is-info"><header class="admonition-header">Developers note</header><div class="admonition-body"><p>The communcation should not perform any blocking operations to enable a maximal overlap of communication with computation.</p></div></div><p>See also: <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}" href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>ParallelStencil.@init_parallel_stencil</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@init_parallel_stencil(package, numbertype, ndims)</code></pre><p>Initialize the package ParallelStencil, giving access to its main functionality. Creates a module <code>Data</code> in the module where <code>@init_parallel_stencil</code> is called from. The module <code>Data</code> contains the types <code>Data.Number</code>, <code>Data.Array</code> and <code>Data.DeviceArray</code> (type <code>?Data</code> <em>after</em> calling <code>@init_parallel_stencil</code> to see the full description of the module).</p><p><strong>Arguments</strong></p><ul><li><code>package::Module</code>: the package used for parallelization (CUDA or Threads).</li><li><code>numbertype::DataType</code>: the type of numbers used by @zeros, @ones and @rand and in all array types of module <code>Data</code> (e.g. Float32 or Float64). It is contained in <code>Data.Number</code> after @init<em>parallel</em>stencil.</li><li><code>ndims::Integer</code>: the number of dimensions used for the stencil computations in the kernels (1, 2 or 3).</li></ul><p>See also: <a href="@ref"><code>Data</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@ones-Tuple" href="#ParallelStencil.@ones-Tuple"><code>ParallelStencil.@ones</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@ones(args...)</code></pre><p>Call <code>ones(numbertype, args...)</code>, where <code>numbertype</code> is the datatype selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a> and the function <code>ones</code> is chosen to be compatible with the package for parallelization selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a> (ones for Threads CUDA.ones for CUDA).</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@parallel-Tuple" href="#ParallelStencil.@parallel-Tuple"><code>ParallelStencil.@parallel</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@parallel kernel</code></pre><p>Declare the <code>kernel</code> parallel and containing stencil computations be performed with one of the submodules <code>ParallelStencil.FiniteDifferences{1D|2D|3D}</code> (or with a compatible custom module or set of macros).</p><p>See also: <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a></p><hr/><pre><code class="nohighlight hljs">@parallel kernelcall</code></pre><div class="admonition is-info"><header class="admonition-header">Advanced</header><div class="admonition-body"><pre><code class="nohighlight hljs">@parallel ranges kernelcall
@parallel nblocks nthreads kernelcall
@parallel ranges nblocks nthreads kernelcall
@parallel (...) kwargs... kernelcall</code></pre></div></div><p>Declare the <code>kernelcall</code> parallel. The kernel will automatically be called as required by the package for parallelization selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a>. Synchronizes at the end of the call (if a stream is given via keyword arguments, then it synchronizes only this stream).</p><p><strong>Arguments</strong></p><ul><li><code>kernelcall</code>: a call to a kernel that is declared parallel.</li></ul><div class="admonition is-info"><header class="admonition-header">Advanced optional arguments</header><div class="admonition-body"><ul><li><code>ranges::Tuple{UnitRange{},UnitRange{},UnitRange{}} | Tuple{UnitRange{},UnitRange{}} | Tuple{UnitRange{}} | UnitRange{}</code>: the ranges of indices in each dimension for which computations must be performed.</li><li><code>nblocks::Tuple{Integer,Integer,Integer}</code>: the number of blocks to be used if the package CUDA was selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a>.</li><li><code>nthreads::Tuple{Integer,Integer,Integer}</code>: the number of threads to be used if the package CUDA was selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a>.</li><li><code>kwargs...</code>: keyword arguments to be passed further to CUDA (ignored for Threads).</li></ul></div></div><div class="admonition is-info"><header class="admonition-header">Performance note</header><div class="admonition-body"><p>Kernel launch parameters are automatically defined with heuristics, where not defined with optional kernel arguments. For CUDA <code>nthreads</code> is whenever reasonable set to (32,8,1) and <code>nblocks</code> accordingly to ensure that enough threads are launched.</p></div></div><p>See also: <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@parallel_async-Tuple" href="#ParallelStencil.@parallel_async-Tuple"><code>ParallelStencil.@parallel_async</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>@parallel_async kernelcall</p><div class="admonition is-info"><header class="admonition-header">Advanced</header><div class="admonition-body"><pre><code class="nohighlight hljs">@parallel_async ranges kernelcall
@parallel_async nblocks nthreads kernelcall
@parallel_async ranges nblocks nthreads kernelcall
@parallel_async (...) kwargs... kernelcall</code></pre></div></div><p>Declare the <code>kernelcall</code> parallel as with <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a> (see <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a> for more information); deactivates however automatic synchronization at the end of the call. Use <a href="#ParallelStencil.@synchronize-Tuple"><code>@synchronize</code></a> for synchronizing.</p><div class="admonition is-info"><header class="admonition-header">Performance note</header><div class="admonition-body"><p>@parallel<em>async falls currently back to running synchronously if the package Threads was selected with [`@init</em>parallel_stencil`](@ref).</p></div></div><p>See also: <a href="#ParallelStencil.@synchronize-Tuple"><code>@synchronize</code></a>, <a href="#ParallelStencil.@parallel-Tuple"><code>@parallel</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@parallel_indices-Tuple" href="#ParallelStencil.@parallel_indices-Tuple"><code>ParallelStencil.@parallel_indices</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@parallel_indices indices kernel</code></pre><p>Declare the <code>kernel</code> parallel and generate the given parallel <code>indices</code> inside the <code>kernel</code> using the package for parallelization selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@ps_println-Tuple" href="#ParallelStencil.@ps_println-Tuple"><code>ParallelStencil.@ps_println</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@ps_println(...)</code></pre><p>Call a macro analogue to <code>Base.@println</code>, compatible with the package for parallelization selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a> (Base.@println for Threads and CUDA.@cuprintln for CUDA).</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@ps_show-Tuple" href="#ParallelStencil.@ps_show-Tuple"><code>ParallelStencil.@ps_show</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@ps_show(...)</code></pre><p>Call a macro analogue to <code>Base.@show</code>, compatible with the package for parallelization selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a> (Base.@show for Threads and CUDA.@cushow for CUDA).</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@rand-Tuple" href="#ParallelStencil.@rand-Tuple"><code>ParallelStencil.@rand</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@rand(args...)</code></pre><p>Call <code>rand(numbertype, args...)</code>, where <code>numbertype</code> is the datatype selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a> and the function <code>rand</code> is chosen/implemented to be compatible with the package for parallelization selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@reset_parallel_stencil-Tuple{}" href="#ParallelStencil.@reset_parallel_stencil-Tuple{}"><code>ParallelStencil.@reset_parallel_stencil</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@reset_parallel_stencil()</code></pre><p>Reset the ParallelStencil module.</p><p>See also: <a href="@ref"><code>init_parallel_stencil</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@sharedMem-Tuple" href="#ParallelStencil.@sharedMem-Tuple"><code>ParallelStencil.@sharedMem</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@sharedMem(T, dims)</code></pre><p>Create an array that is <em>shared</em> between the threads of a block (i.e. accessible only by the threads of a same block), with element type <code>T</code> and size specified by <code>dims</code>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The amount of shared memory needs to specified when launching the kernel (keyword argument <code>shmem</code>).</p></div></div></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@sync_threads-Tuple" href="#ParallelStencil.@sync_threads-Tuple"><code>ParallelStencil.@sync_threads</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@sync_threads()</code></pre><p>Synchronize the threads of the block: wait until all threads in the block have reached this point and all global and shared memory accesses made by these threads prior to the <code>sync_threads()</code> call are visible to all threads in the block.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@synchronize-Tuple" href="#ParallelStencil.@synchronize-Tuple"><code>ParallelStencil.@synchronize</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@synchronize()</code></pre><p>Synchronize the GPU/CPU.</p><p>See also: <a href="#ParallelStencil.@parallel_async-Tuple"><code>@parallel_async</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@threadIdx-Tuple" href="#ParallelStencil.@threadIdx-Tuple"><code>ParallelStencil.@threadIdx</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@threadIdx()</code></pre><p>Return the thread ID in x, y and z dimension within the block. The thread ID in a specific dimension is commonly retrieved directly as in this example in x dimension: <code>@threadIdx().x</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="ParallelStencil.@zeros-Tuple" href="#ParallelStencil.@zeros-Tuple"><code>ParallelStencil.@zeros</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@zeros(args...)</code></pre><p>Call <code>zeros(numbertype, args...)</code>, where <code>numbertype</code> is the datatype selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a> and the function <code>zeros</code> is chosen to be compatible with the package for parallelization selected with <a href="#ParallelStencil.@init_parallel_stencil-Tuple{Any, Any, Any}"><code>@init_parallel_stencil</code></a> (zeros for Threads and CUDA.zeros for CUDA).</p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../justrelax-Testing/">« Testing</a><a class="docs-footer-nextpage" href="../juliageodynamics/">JuliaGeodynamics »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Monday 28 November 2022 23:11">Monday 28 November 2022</span>. Using Julia version 1.8.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
